(this["webpackJsonpclient-portal-app"]=this["webpackJsonpclient-portal-app"]||[]).push([[28],{910:function(e,a,t){"use strict";t.r(a);var n=t(183),r=t(87),c=t(0),l=t.n(c),m=t(7),s=t(5),o=t.n(s),u=t(11),i=t(61),d=t(90),p=t(80),E=t(79),f=t(74),b=t(377),y=t(471),g=t(67),h=t(562),v=t(412),I=t(413),C=t(375),x=t(880),O=t(387),j=t(23),k=t(156),P=t(18),w=t(135),N=t(29),q=t(78),A=t(107),B=t(57),S=t(66),F=t(106),R=function(e){Object(p.a)(t,e);var a=Object(E.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=a.call.apply(a,[this].concat(r))).state={},e.formRef=l.a.createRef(),e.instance=new q.a,e.getCompanyInfo=Object(u.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",e.instance.GetCompanyInfo().then((function(a){a&&0===a.ErrorCode&&(e.props.setLoading(!1),e.setState(a.Company),e.formRef.current&&e.formRef.current.setFieldsValue(a.Company))})));case 1:case"end":return a.stop()}}),a)}))),e.updateCompany=function(){var a=Object(u.a)(o.a.mark((function a(t){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n={Company:Object(m.a)(Object(m.a)({},e.state),t)},a.abrupt("return",e.instance.UpdateCompany(n).then(function(){var a=Object(u.a)(o.a.mark((function a(t){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!t||0!==t.ErrorCode){a.next=4;break}return a.next=3,e.getCompanyInfo();case 3:f.b.success({content:Object(S.a)(A.b),key:"updatable"});case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()));case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e}return Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getCompanyInfo()}},{key:"componentWillUnmount",value:function(){this.instance._source.cancel()}},{key:"render",value:function(){var e=this,a=function(){var a=Object(u.a)(o.a.mark((function a(t){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:f.b.loading({content:Object(S.a)(A.f),key:"updatable"}),setTimeout(Object(u.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.updateCompany(t);case 1:case"end":return a.stop()}}),a)}))),1e3);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),t=function(){var a=Object(u.a)(o.a.mark((function a(){var t;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:t={Logo:""},e.updateCompany(t).then((function(){return e.setState(t)}));case 2:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return this.props.loading?l.a.createElement(F.a,{cover:"content"}):l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{alignItems:"center",mobileFlex:!1,className:"text-center text-md-left"},l.a.createElement(b.a,{size:90,src:this.state.Logo,icon:l.a.createElement(O.a,null)}),l.a.createElement("div",{className:"ml-md-3 mt-md-0 mt-3"},l.a.createElement(y.a,{customRequest:B.a.dummyRequest,onChange:function(a){"uploading"!==a.file.status?"done"===a.file.status&&B.a.getBase64(a.file.originFileObj,function(){var a=Object(u.a)(o.a.mark((function a(t){var n;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n={Logo:t},e.updateCompany(n);case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()):f.b.loading({content:Object(S.a)(A.h),key:"updatable"})},showUploadList:!1,beforeUpload:function(e){return B.a.beforeUpload(e)}},l.a.createElement("p",{style:{marginBottom:"15px"}},"* ",l.a.createElement("i",null,"JPEG, PNG. 150x150")),l.a.createElement(g.a,{type:"primary"},l.a.createElement(P.a,{id:"account.EditProfile.ChangeAvatar"}))),l.a.createElement(g.a,{className:"ml-2",onClick:t},l.a.createElement(P.a,{id:"account.EditProfile.Remove"})))),l.a.createElement("div",{className:"mt-4"},l.a.createElement(h.a,{ref:this.formRef,name:"basicInformation",layout:"vertical",initialValues:this.state,onFinish:a,onFinishFailed:function(e){console.log("Failed:",e)}},l.a.createElement(v.a,null,l.a.createElement(I.a,{xs:24,sm:24,md:24,lg:16},l.a.createElement(v.a,{gutter:j.c},l.a.createElement(I.a,{xs:24,sm:24,md:12},l.a.createElement(h.a.Item,{label:l.a.createElement(P.a,{id:"account.company.BIC"}),name:"BIC",rules:[{required:!0,message:"Please input your BIC!"}]},l.a.createElement(C.a,null))),l.a.createElement(I.a,{xs:24,sm:24,md:12},l.a.createElement(h.a.Item,{label:l.a.createElement(P.a,{id:"account.company.Bank"}),name:"Bank",rules:[{required:!0,message:"Please input your bank!"}]},l.a.createElement(C.a,null))),l.a.createElement(I.a,{xs:24,sm:24,md:12},l.a.createElement(h.a.Item,{label:l.a.createElement(P.a,{id:"account.company.CommercialName"}),name:"CommercialName",rules:[{required:!0,message:"Please input your commercial name!"}]},l.a.createElement(C.a,null))),l.a.createElement(I.a,{xs:24,sm:24,md:12},l.a.createElement(h.a.Item,{label:l.a.createElement(P.a,{id:"account.company.IBAN"}),name:"IBAN",rules:[{required:!0,message:"Please input your IBAN!"}]},l.a.createElement(C.a,null))),l.a.createElement(I.a,{xs:24,sm:24,md:12},l.a.createElement(h.a.Item,{label:l.a.createElement(P.a,{id:"account.company.IDNO"}),name:"IDNO",rules:[{required:!0,message:l.a.createElement(P.a,{id:"auth.MessageInsertIDNO"})},{pattern:/^(\d{13})?$/,message:l.a.createElement(P.a,{id:"auth.IDNOValidation"})}]},l.a.createElement(C.a,null))),l.a.createElement(I.a,{xs:24,sm:24,md:12},l.a.createElement(h.a.Item,{label:l.a.createElement(P.a,{id:"account.company.JuridicalAddress"}),name:"JuridicalAddress",rules:[{required:!0,message:"Please input your juridical address!"}]},l.a.createElement(C.a,null))),l.a.createElement(I.a,{xs:24,sm:24,md:12},l.a.createElement(h.a.Item,{label:l.a.createElement(P.a,{id:"account.company.JuridicalName"}),name:"JuridicalName",rules:[{required:!0,message:"Please input your juridical name!"}]},l.a.createElement(C.a,null))),l.a.createElement(I.a,{xs:24,sm:24,md:12},l.a.createElement(h.a.Item,{label:l.a.createElement(P.a,{id:"account.company.PhoneNumber"}),name:"PhoneNumber",rules:[{required:!0,message:"Please input your phone number!"},{pattern:/^[+]*[(]{0,1}[0-9]{1,4}[)]{0,1}[-\s\./0-9]*$/,message:"Invalid phone format!"}]},l.a.createElement(x.a,{mask:"+(111) 111 111 11",onChange:this.props.onChangeMask}))),l.a.createElement(I.a,{xs:24,sm:24,md:12},l.a.createElement(h.a.Item,{label:l.a.createElement(P.a,{id:"account.company.OfficeAddress"}),name:"OfficeAddress",rules:[{required:!0,message:"Please input your office address!"}]},l.a.createElement(C.a,null))),l.a.createElement(I.a,{xs:24,sm:24,md:12},l.a.createElement(h.a.Item,{label:l.a.createElement(P.a,{id:"account.company.VATCode"}),name:"VATCode",rules:[{required:!1,message:"Please input your VAT code!"},{pattern:/^[0-9]+$/,message:"Invalid VAT code format!"}]},l.a.createElement(C.a,null))),l.a.createElement(I.a,{xs:24,sm:24,md:12},l.a.createElement(h.a.Item,{label:l.a.createElement(P.a,{id:"account.company.ShortName"}),name:"ShortName",rules:[{required:!1,message:"Please enter a short name!"}]},l.a.createElement(C.a,null))),l.a.createElement(I.a,{xs:24,sm:24,md:12},l.a.createElement(h.a.Item,{label:l.a.createElement(P.a,{id:"account.company.PostalCode"}),name:"PostalCode",rules:[{required:!1,message:"Please enter a postal code!"}]},l.a.createElement(C.a,null))),l.a.createElement(I.a,{xs:24,sm:24,md:12},l.a.createElement(h.a.Item,{label:l.a.createElement(P.a,{id:"account.EditProfile.Email"}),name:"Email",rules:[{required:!1,type:"email",message:"Please enter a valid email!"}]},l.a.createElement(C.a,null))),l.a.createElement(I.a,{xs:24,sm:24,md:12},l.a.createElement(h.a.Item,{label:l.a.createElement(P.a,{id:"account.company.WebSite"}),name:"WebSite",rules:[{required:!1,message:"Please input website!"}]},l.a.createElement(C.a,null)))),l.a.createElement(g.a,{type:"primary",htmlType:"submit"},l.a.createElement(P.a,{id:"account.EditProfile.SaveChange"})))))))}}]),t}(c.Component),J={updateSettings:w.c},V=Object(N.b)(null,J)(R);a.default=function(){var e=Object(c.useState)(),a=Object(r.a)(e,2),t=(a[0],a[1]),m=Object(c.useState)(!0),s=Object(r.a)(m,2),o=s[0],u=s[1];return l.a.createElement(V,{onChangeMask:function(e){t(Object(n.a)({},e.target.name,e.target.value))},loading:o,setLoading:u})}}}]);
//# sourceMappingURL=28.e3145825.chunk.js.map